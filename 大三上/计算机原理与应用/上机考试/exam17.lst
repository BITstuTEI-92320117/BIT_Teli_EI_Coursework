Microsoft (R) Macro Assembler Version 6.11		    11/02/25 18:08:20
tempfile.asm						     Page 1 - 1


 0000				DATAS SEGMENT
				    ; 数据段：未定义具体数据，通过寄存器（AX、BX、DL等）存储临时数据（如最大值、最小值、输入数）
 0000				DATAS ENDS

 0000				STACKS SEGMENT
				    ; 堆栈段：未定义具体栈空间，使用系统默认堆栈，用于子程序调用时保存寄存器原值（如AX、CX、DX）
 0000				STACKS ENDS

 0000				CODES SEGMENT
				    ASSUME CS:CODES,DS:DATAS,SS:STACKS  ; 关联段寄存器：CS=代码段，DS=数据段，SS=堆栈段
 0000				START:
 0000  B8 ---- R		    MOV AX,DATAS           ; 数据段基地址送入AX（DS不能直接赋值，需通过AX中转）
 0003  8E D8			    MOV DS,AX              ; 初始化数据段寄存器DS，确保程序能正确访问数据段（此处无显式数据，主要为规范）
 0005  B9 000A			    mov cx, 10             ; 循环计数器CX设为10（需输入10个无符号数，控制输入次数）
				   
 0008				L1:                        ; 循环入口：逐个输入10个无符号数，并更新最大值、最小值
 0008  E8 002B			    call input_dec         ; 调用子程序：从键盘输入十进制数，转换为无符号数存入BX
 000B  83 F9 0A			    cmp cx, 10             ; 判断当前是否为第一个输入的数（初始CX=10，输入第一个数后CX减为9）
 000E  75 06			    jnz L2                 ; 若不是第一个数，跳至L2（开始比较更新最大/最小值）
 0010  8A C3			    mov al, bl             ; 若是第一个数，将输入数（BL，BX低8位）赋值给AL（初始化最大值）
 0012  8A D3			    mov dl, bl             ; 同时将输入数赋值给DL（初始化最小值）
 0014  EB 0C			    jmp L4                 ; 跳至L4，跳过后续比较（第一个数无需比较，直接进入下一次循环）

				    ; 比较当前输入数与当前最大值，更新最大值
 0016				L2:
 0016  38 C3			    cmp bl, al             ; 比较当前输入数（BL）与当前最大值（AL）
 0018  76 02			    jbe L3                 ; 若当前数≤最大值，不更新，跳至L3（比较最小值）
 001A  8A C3			    mov al, bl             ; 若当前数>最大值，将当前数赋值给AL（更新最大值）

				    ; 比较当前输入数与当前最小值，更新最小值
 001C				L3:    
 001C  38 D3			    cmp bl, dl             ; 比较当前输入数（BL）与当前最小值（DL）
 001E  73 02			    jae L4                 ; 若当前数≥最小值，不更新，跳至L4（结束本次比较）
 0020  8A D3			    mov dl, bl             ; 若当前数<最小值，将当前数赋值给DL（更新最小值）

 0022				L4:
 0022  E2 E4			    loop L1                ; CX减1，若CX≠0则继续循环，输入下一个数
				    
				    ; 输出最终结果：先输出最大值，换行后输出最小值
 0024  8A D8			    mov bl, al             ; 将最大值（AL）移入BL，适配binidec子程序的参数要求（处理BX）
 0026  B7 00			    mov bh, 0              ; BX高8位（BH）清零，确保BX为16位无符号数（避免高位干扰）
 0028  E8 0041			    call binidec           ; 调用子程序：将BX中的最大值转换为十进制并显示
 002B  8A DA			    mov bl, dl             ; 将最小值（DL）移入BL，适配binidec子程序
 002D  B7 00			    mov bh, 0              ; BX高8位清零
 002F  E8 003A			    call binidec           ; 调用子程序：将BX中的最小值转换为十进制并显示
				    
				    ; 程序结束，返回DOS系统
 0032  B4 4C			    MOV AH,4CH
 0034  CD 21			    INT 21H

				; 子程序：input_dec - 从键盘输入十进制字符（0-9），转换为无符号数存入BX
 0036				input_dec proc near
 0036  50			    push ax                ; 保存主程序中的AX值（避免子程序修改）
 0037  51			    push cx                ; 保存主程序中的CX值
 0038  52			    push dx                ; 保存主程序中的DX值
 0039  BB 0000			    mov bx, 0              ; 初始化BX为0，用于存储转换后的十进制数（累加结果）
 003C				read_digit:                ; 循环读取单个十进制字符
 003C  B4 01			    mov ah, 1              ; DOS功能调用号1：单个字符输入（输入字符存入AL）
 003E  CD 21			    int 21h                ; 执行输入，读取键盘字符
				    
				    ; 判断输入字符是否为有效十进制数字（仅接受'0'-'9'）
 0040  3C 30			    cmp al, '0'            ; 比较输入字符与'0'（ASCII码30H）
 0042  7C 17			    jl input_end           ; 若小于'0'（非数字，如回车），结束输入
 0044  3C 39			    cmp al, '9'            ; 比较输入字符与'9'（ASCII码39H）
 0046  7F 13			    jg input_end           ; 若大于'9'（非数字），结束输入
				    
				    ; 将ASCII字符转换为数值，并拼接成完整十进制数
 0048  2C 30			    sub al, 30h            ; ASCII码转数值（'0'→0，'9'→9）
 004A  B4 00			    mov ah, 0              ; 清空AH，将AL（8位数值）扩展为AX（16位数值，避免后续乘法溢出）
 004C  50			    push ax                ; 保存当前数字（AX），避免被乘法覆盖
 004D  8B C3			    mov ax, bx             ; 将已拼接的数（BX）移入AX，准备进行“乘以10”操作（十进制位左移）
				    
				    ; 计算：当前累计值 = 累计值×10 + 当前数字（实现十进制数拼接）
 004F  B9 000A			    mov cx, 10             ; CX=10，用于乘法运算（实现×10）
 0052  F7 E1			    mul cx                 ; AX = AX×10（累计值左移一位十进制，腾出个位）
 0054  8B D8			    mov bx, ax             ; 将乘法结果（AX）存回BX，更新累计值
 0056  58			    pop ax                 ; 恢复当前数字（AX）
 0057  03 D8			    add bx, ax             ; BX = 累计值×10 + 当前数字，完成一次位拼接
				    
 0059  EB E1			    jmp read_digit         ; 继续读取下一个十进制字符
 005B				input_end:                 ; 输入结束，恢复主程序寄存器
 005B  5A			    pop dx                 ; 恢复DX原值
 005C  59			    pop cx                 ; 恢复CX原值
 005D  58			    pop ax                 ; 恢复AX原值
 005E  C3			    ret                    ; 返回主程序
 005F				input_dec endp

				; 子程序：crlf - 输出回车符（13）和换行符（10），实现屏幕换行，分隔输出结果
 005F				crlf proc near
 005F  B4 02			    mov ah, 02h            ; DOS功能调用号2：单个字符输出
 0061  B2 0D			    mov dl, 13             ; DL=13（回车符ASCII码），使光标回到当前行开头
 0063  CD 21			    int 21h                ; 执行输出，输出回车符
 0065  B4 02			    mov ah, 02h            ; 再次调用字符输出功能
 0067  B2 0A			    mov dl, 10             ; DL=10（换行符ASCII码），使光标下移一行
 0069  CD 21			    int 21h                ; 执行输出，输出换行符
 006B  C3			    ret                    ; 返回主程序
 006C				crlf endp

				; 子程序：binidec - 将BX中的无符号数转换为十进制数并显示（处理百位、十位、个位）
 006C				binidec proc near    
 006C  52			    push dx                ; 保存主程序中的DX值，避免被子程序修改
 006D  B9 0064			    mov cx, 100d           ; CX=100（除数），用于提取十进制数的“百位”
 0070  E8 0011			    call dec_div           ; 调用dec_div：计算百位并输出
 0073  B9 000A			    mov cx, 10d            ; CX=10（除数），用于提取十进制数的“十位”
 0076  E8 000B			    call dec_div           ; 调用dec_div：计算十位并输出
 0079  B9 0001			    mov cx, 1d             ; CX=1（除数），用于提取十进制数的“个位”
 007C  E8 0005			    call dec_div           ; 调用dec_div：计算个位并输出
 007F  E8 FFDD			    call crlf              ; 输出回车换行，分隔最大值与最小值的显示
 0082  5A			    pop dx                 ; 恢复主程序中的DX值
 0083  C3			    ret                    ; 返回调用处
 0084				binidec endp              ; binidec子程序结束
				    
				; 子程序：dec_div - 辅助binidec：将BX中的数除以CX，商（对应十进制位）转ASCII输出，余数存回BX
 0084				dec_div proc near    
 0084  8B C3			    mov ax, bx             ; AX = BX（将被除数送入AX，准备除法）
 0086  BA 0000			    mov dx, 0              ; DX=0（扩展被除数为32位：DX:AX，避免16位除法溢出）
 0089  F7 F1			    div cx                 ; 执行除法：AX=商（当前十进制位的数值），DX=余数（剩余部分）
 008B  8B DA			    mov bx, dx             ; 将余数存入BX，用于后续低位（十位、个位）的计算
 008D  8A D0			    mov dl, al             ; DL=商（当前位数值），准备转换为ASCII码
 008F  80 C2 30			    add dl, 30h            ; 数值转ASCII码（0→'0'，9→'9'，30H为'0'的ASCII码）
 0092  B4 02			    mov ah, 2              ; DOS功能调用号2：单个字符输出
 0094  CD 21			    int 21h                ; 执行输出，显示当前十进制位的字符
 0096  C3			    ret                    ; 返回调用处
 0097				dec_div endp               ; dec_div子程序结束
 0097				CODES ENDS
				    END START              ; 汇编程序结束，指定程序入口为START标签

Microsoft (R) Macro Assembler Version 6.11		    11/02/25 18:08:20
tempfile.asm						     Symbols 2 - 1




Segments and Groups:

                N a m e                 Size     Length   Align   Combine Class

CODES  . . . . . . . . . . . . .	16 Bit	 0097	  Para	  Private 
DATAS  . . . . . . . . . . . . .	16 Bit	 0000	  Para	  Private 
STACKS . . . . . . . . . . . . .	16 Bit	 0000	  Para	  Private 


Procedures,  parameters and locals:

                N a m e                 Type     Value    Attr

binidec  . . . . . . . . . . . .	P Near	 006C	  CODES	Length= 0018 Public
crlf . . . . . . . . . . . . . .	P Near	 005F	  CODES	Length= 000D Public
dec_div  . . . . . . . . . . . .	P Near	 0084	  CODES	Length= 0013 Public
input_dec  . . . . . . . . . . .	P Near	 0036	  CODES	Length= 0029 Public
  read_digit . . . . . . . . . .	L Near	 003C	  CODES	
  input_end  . . . . . . . . . .	L Near	 005B	  CODES	


Symbols:

                N a m e                 Type     Value    Attr

L1 . . . . . . . . . . . . . . .	L Near	 0008	  CODES	
L2 . . . . . . . . . . . . . . .	L Near	 0016	  CODES	
L3 . . . . . . . . . . . . . . .	L Near	 001C	  CODES	
L4 . . . . . . . . . . . . . . .	L Near	 0022	  CODES	
START  . . . . . . . . . . . . .	L Near	 0000	  CODES	

	   0 Warnings
	   0 Errors
