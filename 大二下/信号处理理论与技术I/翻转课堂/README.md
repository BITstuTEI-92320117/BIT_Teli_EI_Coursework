# SSB&VSB调制解调仿真代码
## 概述
本代码用于仿真单边带（SSB）、残留边带（VSB）调制解调过程，对比理想滤波器与椭圆滤波器的性能差异，分析无噪/有噪环境下的误差率、频谱利用率等指标，为通信系统设计提供参考。
### 免责声明
由于当时未学过通信原理，翻转课堂的部分内容难免存在不合理之处，请注意甄别。

## 一、函数用途说明
### 1. 信号变换函数
- `F2T(f, Sf)`：逆傅里叶变换（IFFT），将频域信号`Sf`转换为时域信号`st`。
- `T2F(t, st)`：傅里叶变换（FFT），将时域信号`st`转换为频域信号`Sf`。

### 2. 信号生成函数
- `myBinary(t, Tm)`：生成取值为-1/1的二元随机基带信号，模拟实际信号的随机相位偏移。
- `SMTTrigger(input, thresholdLow, thresholdHigh)`：施密特触发器，将解调后的模拟信号整型为数字信号（0/1）。

### 3. 滤波器函数
- `myLPF(t, x_t, Band)`：理想低通滤波器，滤除指定带宽外的高频分量。
- `myEllipticLPF(t, x_t, Band)`：椭圆低通滤波器，通带/阻带等波纹，阶数相同时过渡带更陡峭。
- `lpf_VSB(f, sf, B)`：VSB专用残留边带滤波器，满足载频两侧响应互补条件。

### 4. 序列处理函数
- `GetSequence(t, x_t, Tm)`：从连续信号中提取二进制序列，选取码元周期中间位置采样。
- `shift_compare(Input_Code, Standard_Code)`：矫正序列错位（左移/右移），降低误码率计算误差。

### 5. 核心调制解调函数
- `SSB_ModDmod(N, fs, fc, Ac, fm, Ka, SNR, Filter, pic, m, n)`：SSB调制解调核心函数，支持滤波法/相移法，可选理想/椭圆滤波器，输出误差率、误码率。
- `VSB_ModDmod(N, fs, fc, Ac, fm, Ka, SNR, Filter, pic, n)`：VSB调制解调核心函数，通过残留边带滤波器实现，输出误差率、误码率。

### 6. 辅助分析函数
- `Spectrum_Analysis(signal, fs, bit_rate, snr_db, t)`：频谱分析函数，计算90%能量带宽及频谱利用率。

## 二、程序运行方法
### 1. 环境要求
依赖MATLAB（支持FFT、IFFT、awgn等基础函数）。

### 2. 核心控制参数
主程序通过`flag`变量控制仿真场景，取值及功能如下：
- `flag=1`：生成3类性能对比图（SSB不同滤波器、SSB滤波法vs相移法、SSB vs VSB椭圆滤波器）。
- `flag=2`：探究无噪理想滤波器下三种调制方式的频谱利用率。
- `flag=3`：生成SSB/VSB调制下不同滤波器的误码率-信噪比曲线。
- 其他值：默认执行SSB调制解调（理想滤波器，无噪）并输出关键波形。

### 3. 运行步骤
1. 将所有函数文件与主程序放在同一目录；
2. 打开MATLAB，切换至该目录；
3. 修改主程序中`flag`值选择目标仿真场景，调整`test_SNR`（信噪比）、`N`（采样点数）等参数（可选）；
4. 直接运行主脚本，自动输出仿真结果（图形文件、误差率/误码率数据）。

## 三、关键可调参数
| 参数   | 含义               | 默认值    |
|--------|--------------------|-----------|
| `N`    | 采样点数           | 40000     |
| `fs`   | 采样率（Hz）       | 20000     |
| `fc`   | 载波频率（Hz）     | 2000      |
| `fm`   | 基带信号频率（Hz） | 50        |
| `test_SNR` | 信噪比（dB）    | [-40,-35,-30~10] |

| `Filter` | 滤波器类型       | 2（理想）/3（椭圆） |

