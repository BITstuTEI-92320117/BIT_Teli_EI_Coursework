# 一、整体功能
本 MATLAB 代码实现 BPSK 数字带通传输系统仿真，支持根升余弦/方波成型滤波、正交上下变频、高斯白噪声建模，可完成无噪/有噪场景信号传输、不同成型滤波器对比、频率参数（采样频率/符号速率/载波频率）影响探究、滤波器模式（same/full）验证及整数/非整数倍过采样对比等实验，自动生成信号时域波形、功率谱密度图及误码率-信噪比对数曲线。

# 二、函数说明
- `up_conversion(T, fs, osample, fc, conv_mode, flag, is_int_os)`：实现符号序列生成、BPSK映射、上采样、成型滤波及上变频，输出成形后基带信号、上变频信号、载波信号、滤波器系数等。
- `psk(fs, osample, fc, conv_mode, flag1, flag2, EbN0, T, is_int_os)`：统筹仿真流程，调用上下变频函数，计算理论误码率、根升余弦滤波误码率及方波滤波误码率。
- `plot_BER(EbN0, BER, name, cato, xcato, flag)`：绘制误码率-信噪比对数曲线，支持固定图例（滤波器类型/模式）和动态图例（参数值）两种配置。
- `judge(receive_hrc_matched, receive_rectang_matched, osample, sym_num, sym_seq, is_int_os)`：对匹配滤波输出信号下采样并硬判决，统计根升余弦/方波成形的误码率。
- `get_simplified_fraction(x)`：将浮点数转换为最简正整数分数，用于非整数倍过采样/下采样处理。
- `down_conversion(EbN0, send_hrc_wave, send_rectan_wave, carrier_hrc, carrier_rectan, hrc, h, osample, conv_mode, sym_num, flag1, flag2)`：实现信号下变频、高斯白噪声添加、匹配滤波及序列截断，输出匹配滤波后的基带信号。

# 三、主脚本说明
主脚本为仿真入口，通过修改 `exp` 值切换实验类型：
- `exp=1`：无噪场景仿真，生成BPSK带通传输各环节信号波形及功率谱，计算无噪误码率。
- `exp=2`：成型滤波器对比实验，绘制理论误码率、根升余弦滤波误码率、方波滤波误码率随信噪比变化曲线。
- `exp=4`：频率参数影响实验，分3个子任务：固定采样频率/载波频率改变符号速率、固定符号速率/载波频率改变采样频率、固定采样频率/符号速率改变载波频率，绘制对应误码率曲线。
- `exp=5`：滤波器模式验证实验，对比same模式、full模式（截断/不截断）的误码率性能。
- `exp=6`：过采样类型对比实验，绘制整数/非整数倍过采样对应的误码率曲线，分析定时误差影响。

# 四、使用说明
- 运行主脚本，通过修改 `exp` 变量值切换目标实验（有效实验编号：1、2、4、5、6）。
- 可调整核心参数：采样频率 `fs`、过采样率 `osample`、载波频率 `fc`、信噪比范围 `EbN0`、采样时间 `T`、卷积模式 `conv_mode` 等，适配不同实验需求。
- 仿真结果（时域波形图、功率谱密度图、误码率曲线）自动保存为本地PNG文件，无需手动导出，文件名称与实验内容对应。
- 整数/非整数倍过采样通过 `is_int_os` 变量标记，滤波器模式通过 `conv_mode` 变量设置（支持'same'/'full'）。