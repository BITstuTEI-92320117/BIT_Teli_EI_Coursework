# 基于分块因子的二进制算术编码图像压缩系统
## 一、项目简介
本项目通过MATLAB实现基于分块因子法的二进制算术编码图像压缩与解压缩，针对256×256像素的纯黑（0）纯白（255）BMP图像，实现无失真压缩，压缩比14.74、失真率0.00%，解决传统算术编码浮点精度截断问题。

## 二、环境要求
- 运行环境：MATLAB R2018b及以上
- 依赖工具：MATLAB图像处理工具箱

## 三、文件说明
| 文件名          | 文件类型       | 核心作用                                   |
|-----------------|----------------|--------------------------------------------|
| 主程序脚本      | MATLAB脚本（.m） | 整合图片读取、灰度化、分块、编码、译码及结果输出全流程 |
| `dec22bin.m`    | 函数文件       | 二进制转换工具，将编码区间转为二进制编码及对应整数 |
| `encode.m`      | 函数文件       | 核心编码函数，实现k×k分块矩阵的逐行算术编码     |
| `probibility.m` | 函数文件       | 统计分块图像中0和255像素的概率分布           |
| `decode.m`      | 函数文件       | 译码函数，通过编码逆操作还原原始分块图像       |

## 四、函数功能简要说明
### 1. `[x1,x2] = dec22bin(h,l,k)`
- 输入：编码区间上下限（h/l）、分块尺寸（k）
- 输出：二进制编码（x1）、编码对应整数（x2）
- 功能：统一编码位数，处理特殊像素块，生成符合区间要求的二进制编码及译码用整数

### 2. `[B,C,cnt] = encode(A,k)`
- 输入：k×k分块图像矩阵（A）、分块尺寸（k）
- 输出：译码用整数数组（B）、二进制编码数组（C）、编码总长度（cnt）
- 功能：基于概率更新编码区间，通过乘k×k解决精度问题，输出编码结果及长度

### 3. `pr = probibility(A)`
- 输入：分块图像矩阵（A）
- 输出：像素概率数组（pr=[255概率, 0概率]）
- 功能：统计分块中两类像素占比，为编码区间划分提供依据

### 4. `A1 = decode(A0,k,x)`
- 输入：原始分块矩阵（A0）、分块尺寸（k）、编码整数（x）
- 输出：译码重构分块矩阵（A1）
- 功能：逆推编码过程，无失真还原原始分块图像

## 五、运行步骤
1. 准备256×256像素纯黑纯白BMP图像，命名为`图片1.bmp`，放入MATLAB当前工作目录；
2. 确保所有函数文件与主程序脚本同目录；
3. 运行主程序脚本，自动完成灰度化、分块、编码、译码，输出压缩比、失真率及相关文件。

## 六、输出结果
- 生成文件：`1组-灰度图.bmp`（灰度化结果）、`二进制算术编码.mat`（编码数据）、`译码-灰度图.bmp`（解压结果）；
- 控制台输出：压缩比（约14.74%）、失真率（0.00%）。

## 七、注意事项
1. 仅支持256×256像素、仅含0和255的BMP图像；
2. 分块尺寸k需为2的幂次（默认k=8）；
3. 确保`decode`函数与`encode`编码逻辑逆匹配。

## 八、参考文献
[1] Rissanen J., Langdon G. G. Arithmetic coding[J]. IBM Journal of Research and Development, 1979, 23(2): 149-162.
[2] Witten I. H., Neal R. M., Cleary J. G. Arithmetic coding for data compression[J]. Communications of the ACM, 1987, 30(6): 520-540.

[3] 吴晓云. 算术编码算法在图像压缩中的研究[J]. 计算机与数字工程, 2017, 45(09): 1863-1865.

